<!DOCTYPE html>
<html lang="en-us">
    <head>
         
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Howto disable easy-adsenser if wptouch is active</title>
        
        <style>

    html body {
        font-family: 'Raleway', sans-serif;
        background-color: white;
    }

    :root {
        --accent: darkgray;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="/css/main.css">





<link rel="stylesheet" href="/css/custom.css">


 <link rel="stylesheet" href="/css/solarized-dark.css"> 


<link rel="stylesheet" href="/css/bootstrap.min.css">


<link rel="stylesheet" href="/css/font-awesome.min.css">
 


    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>







<script src="/js/jquery-3.3.1.min.js"></script>


<script src="/js/bootstrap.min.js"></script>


<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
 <meta name="generator" content="Hugo 0.41" />
        

        
    </head>

    

    <body>
         
        <nav class="navbar navbar-default navbar-fixed-top">

            <div class="container">

                <div class="navbar-header">

                    <a class="navbar-brand visible-xs" href="#">Howto disable easy-adsenser if wptouch is active</a>

                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>

                <div class="collapse navbar-collapse">

                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">Home</a></li>
                            
                                <li><a href="/historical-blog-posts/">Historical Blog</a></li>
                            
                        </ul>
                    

                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="https://github.com/kTitan/"><i class="fa fa-github"></i></a></li>
                            
                        </ul>
                    

                </div>

            </div>

        </nav>


<main>

    <div class="item">

    
    
    

    
    

    <h4><a href="/software/howto-disable-easy-adsenser-if-wptouch-is-active/">Howto disable easy-adsenser if wptouch is active</a></h4>
    <h5>April 19, 2010</h5>
    
    <a href="/tags/php"><kbd class="item-tag">php</kbd></a>
    
    <a href="/tags/software"><kbd class="item-tag">Software</kbd></a>
    
    <a href="/tags/wordpress"><kbd class="item-tag">wordpress</kbd></a>
    

</div>


    <br> <div class="text-justify"><p>WpTouch is a great plugin, if you want to optimize your wordpress blog for mobile content. It also comes with an integrated adsense option for the mobile content.</p>

<p>This is of course much better then the normal google ads.</p>

<p>But now comes the problem: In my blogs i often use easy-adsenser as the adsense mangement software. But if this is active, and you also activate the adsense option in WpTouch you will see ALL ads in the mobile view (the one from WpTouch and the one(s) from easy-adsenser). This can also be perhaps against the terms of google, depending how you setup easy-adsenser.</p>

<p>I looked a bit around in the code and found an easy we how to solve this problem.</p>

<p></p>

<p>All you have to do is editing this file:</p>

<p>wp-content/plugins/easy-adsenser/easy-adsenser.php</p>

<p>Then search for the function <em>ezAdSense_content</em> (around line 440). In the beginning of this function it is checked if the ads should be inserted or not. Here I added the check if WpTouch view is active or not. This is the new line:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">if (function_exists(&#39;bnc_wptouch_is_mobile&#39;) <span style="color:#960050;background-color:#1e0010">&amp;&amp;</span> bnc_wptouch_is_mobile()) return $content ;  </code></pre></div>

<p>After the modification it should look like this:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">if ($ezAdOptions[&#39;kill_tag&#39;] <span style="color:#960050;background-color:#1e0010">&amp;&amp;</span> is_tag()) return $content ;
if ($ezAdOptions[&#39;kill_archive&#39;] <span style="color:#960050;background-color:#1e0010">&amp;&amp;</span> is_archive()) return $content ;
if (!$ezAdOptions[&#39;allow_feeds&#39;] <span style="color:#960050;background-color:#1e0010">&amp;&amp;</span> is_feed()) return $content ;
if (function_exists(&#39;bnc_wptouch_is_mobile&#39;) <span style="color:#960050;background-color:#1e0010">&amp;&amp;</span> bnc_wptouch_is_mobile()) return $content ;

$mc = $ezAdOptions[&#39;mc&#39;] ;
$this-&gt;mced = false ;</code></pre></div>

<p>Perhaps clear now your cache, but that was already all. Check it!</p>

<p>Attached you will find a diff file for that. <strong>But remember:</strong> If you update you easy-adsenser plugin you have to do that again!</p>

<p><a href="/files/disable_easy-adsenser_on_wptouch_mobileview.diff">disable_easy-adsenser_on_wptouch_mobileview.diff</a></p></div>

    
    

    

    

</main>

        <footer>

            <p class="copyright text-muted"></p>

        </footer>
       
    </body>

</html>

